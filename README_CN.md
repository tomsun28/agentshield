# ğŸ›¡ï¸ AgentShield

ç»™ AI Agent å¥—ä¸Šä¸€å±‚ç›¾ç‰Œã€‚

### è®©ä½ çš„ AI Agent æ‹¥æœ‰â€œåæ‚”è¯â€

**AI ä»£ç†çš„å®‰å…¨é˜²æŠ¤å±‚** - ä¸€ä¸ªåŸºäºç¡¬é“¾æ¥çš„é›¶æ‹·è´å¤‡ä»½ç³»ç»Ÿï¼Œä¿æŠ¤ä½ çš„å·¥ä½œåŒºå…å— AI æ„å¤–ä¿®æ”¹ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

* **âš¡ é›¶å»¶è¿Ÿå¿«ç…§**ï¼šåŸºäºå†…å®¹å¯»å€ä¸ç¡¬é“¾æ¥ï¼ˆHardlinkï¼‰ï¼Œæ— è®ºæ–‡ä»¶å¤šå¤§ï¼Œå¤‡ä»½å‡åœ¨æ¯«ç§’å†…å®Œæˆï¼Œä¸”**ä¸å ç”¨é¢å¤–ç£ç›˜ç©ºé—´**ã€‚
* **ğŸ•µï¸ éä¾µå…¥å¼ç›‘å¬**ï¼šæ— éœ€ä¿®æ”¹ Agent ä»£ç ã€‚åªéœ€åœ¨å·¥ä½œåŒºè¿è¡Œ `shield watch`ï¼Œå®ƒä¾¿ä¼šè‡ªåŠ¨å®ˆæŠ¤æ‰€æœ‰å†™å…¥è¡Œä¸ºã€‚
* **å›æ»šæ„å›¾æ„ŸçŸ¥**ï¼šæ”¯æŒæŒ‰æ—¶é—´ç‚¹ã€æŒ‰ Agent ä»»åŠ¡ ID (Task ID) è¿›è¡ŒåŸå­åŒ–å›æ»šã€‚
* **ğŸ“¦ å•äºŒè¿›åˆ¶åˆ†å‘**ï¼šåŸºäº Bun ç¼–è¯‘ï¼Œæ— ä¾èµ–ï¼Œä¸‹è½½å³ç”¨ï¼ˆæ”¯æŒ Windows, macOS, Linuxï¼‰ã€‚
* **ğŸ›¡ï¸ å®‰å…¨æ²™ç›’é¢„è§ˆ**ï¼šåœ¨çœŸæ­£å†™å…¥ç£ç›˜å‰ï¼ŒæŸ¥çœ‹ Agent äº§ç”Ÿçš„ Diff å·®å¼‚ã€‚
* **âš¡ é›¶æ‹·è´å¤‡ä»½**ï¼šä½¿ç”¨ç¡¬é“¾æ¥å®ç°å³æ—¶ã€èŠ‚çœç©ºé—´çš„å¤‡ä»½ï¼ˆ10GB æ–‡ä»¶ = 1ms å®Œæˆå¤‡ä»½ï¼‰
* **ğŸ•µï¸ å®æ—¶ä¿æŠ¤**ï¼šç›‘æ§å·¥ä½œåŒºå¹¶åœ¨æ–‡ä»¶è¢«ä¿®æ”¹å‰è‡ªåŠ¨å¤‡ä»½
* **ğŸ“¦ æ™ºèƒ½æ’é™¤**ï¼šè‡ªåŠ¨å¿½ç•¥ `.git`ã€`node_modules`ã€æ„å»ºäº§ç‰©ç­‰
* **ğŸ”’ åŸå­æ‰§è¡Œæ¨¡å¼**ï¼šåœ¨è¿è¡Œä»£ç†å‘½ä»¤å‰å¯¹æ•´ä¸ªå·¥ä½œåŒºè¿›è¡Œå¿«ç…§
* **â®ï¸ è½»æ¾æ¢å¤**ï¼šä¸€ä¸ªå‘½ä»¤å³å¯å°†ä»»ä½•æ–‡ä»¶å›æ»šåˆ°åŸå§‹çŠ¶æ€
* **ğŸš€ å•æ–‡ä»¶äºŒè¿›åˆ¶**ï¼šç¼–è¯‘ä¸ºç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ - æ— éœ€è¿è¡Œæ—¶ä¾èµ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£… (Binary)

```bash

```

### 2. å¯åŠ¨å®ˆæŠ¤

åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸‹å¼€å¯ä¿æŠ¤ï¼š

```bash
shield watch ./my-project

```

### 3. æ‰§è¡Œæ¨¡å¼ï¼ˆæ¨èç”¨äºä»£ç†ä»»åŠ¡ï¼‰

```bash
# å¿«ç…§å·¥ä½œåŒºï¼Œè¿è¡Œå‘½ä»¤ï¼Œç„¶åå…è®¸è½»æ¾æ¢å¤
shield exec -- npm run agent-task
shield exec -- python ai_script.py
shield exec --path=./my-project -- cargo run
```

æ­¤æ¨¡å¼ä¼šï¼š
1. åœ¨å‘½ä»¤è¿è¡Œå‰åˆ›å»ºå®Œæ•´å¿«ç…§
2. æ‰§è¡Œä½ çš„ä»£ç†å‘½ä»¤
3. å…è®¸ä½ è½»æ¾æ¢å¤ä»»ä½•ä¿®æ”¹è¿‡çš„æ–‡ä»¶

### 4. ä¸€æ¬¡æ€§å¿«ç…§

```bash
# åˆ›å»ºå½“å‰ç›®å½•çš„å¿«ç…§
shield snapshot

# åˆ›å»ºæŒ‡å®šç›®å½•çš„å¿«ç…§  
shield snapshot ./my-project
```

### 5. æ¢å¤æ–‡ä»¶

```bash
# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å¤‡ä»½
shield restore

# å°†ç‰¹å®šæ–‡ä»¶æ¢å¤åˆ°æœ€æ–°å¤‡ä»½
shield restore src/index.ts

# åˆ—å‡ºæ‰€æœ‰å¤‡ä»½è¯¦æƒ…
shield list
```

### 6. æ¸…ç†æ—§å¤‡ä»½

```bash
# åˆ é™¤7å¤©å‰çš„å¤‡ä»½ï¼ˆé»˜è®¤ï¼‰
shield clean

# åˆ é™¤3å¤©å‰çš„å¤‡ä»½
shield clean --days=3
```

## ğŸ› ï¸ ä¸ºå¼€å‘è€…å‡†å¤‡ (SDK)

å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ª Agent æ¡†æ¶ï¼Œå¯ä»¥è½»æ¾é›†æˆ AgentShieldï¼š

```typescript
// é›†æˆç¤ºä¾‹ (Node.js/Bun)
import { Shield } from 'agentshield-sdk';

const shield = new Shield('./workspace');

await shield.startSession('refactor-task-001');
// ... è®© Agent æ‰§è¡Œæ–‡ä»¶æ“ä½œ ...
await shield.commit(); // æˆ–è€…åœ¨å¤±è´¥æ—¶è°ƒç”¨ shield.rollback()

```

## ğŸ“‚ ç›®å½•ç»“æ„

```
ä½ çš„é¡¹ç›®/
â”œâ”€â”€ src/
â”œâ”€â”€ package.json
â””â”€â”€ .shield/          # éšè—çš„å¤‡ä»½ç›®å½•
    â”œâ”€â”€ index.json          # å¤‡ä»½ç´¢å¼•
    â””â”€â”€ snapshots/          # å¤‡ä»½æ–‡ä»¶
        â”œâ”€â”€ 1234567890_src__index.ts
        â””â”€â”€ 1234567891_src__utils.ts
```

## ğŸ”§ æ„å»ºä¸åˆ†å‘

```bash
# å½“å‰å¹³å°
bun run build

# äº¤å‰ç¼–è¯‘
bun run build:windows  # â†’ shield.exe
bun run build:linux    # â†’ shield-linux

# æ„å»ºæ‰€æœ‰å¹³å°
bun run build:all
```

## ğŸ” é»˜è®¤æ’é™¤é¡¹

ä»¥ä¸‹æ¨¡å¼ä¼šè‡ªåŠ¨æ’é™¤åœ¨å¤‡ä»½ä¹‹å¤–ï¼š

- `.git`, `.git/**`
- `node_modules`, `node_modules/**`
- `*.log`, `*.tmp`, `*.swp`
- `dist/`, `build/`, `.next/`, `.nuxt/`
- `coverage/`, `.cache/`
- `__pycache__/`, `*.pyc`
- `.DS_Store`, `Thumbs.db`

## ğŸ“Š æ€§èƒ½è¡¨ç°

| ç‰¹æ€§ | Git | **AgentShield** |
| --- | --- | --- |
| **1GB æ–‡ä»¶å¤‡ä»½æ—¶é—´** | > 10s (å‹ç¼©/Hash) | **< 10ms (Hardlink)** |
| **ç£ç›˜å ç”¨ (10ä¸ªç‰ˆæœ¬)** | ~10GB | **~1GB (å†™æ—¶å¤åˆ¶)** |
| **CPU å¼€é”€** | é«˜ (Diff è®¡ç®—) | **æä½ (ä»…ç›‘å¬)** |

## ğŸ—ºï¸ è·¯çº¿å›¾ (Roadmap)

* [x] æ ¸å¿ƒç›‘å¬ä¸ç¡¬é“¾æ¥å¼•æ“
* [x] CLI åŸºç¡€æŒ‡ä»¤ (watch/rollback)
* [ ] **Desktop GUI**: å¯è§†åŒ–ç‰ˆæœ¬æ—¶é—´è½´ä¸ Diff é¢„è§ˆ
* [ ] **è¯­ä¹‰åŒ–å®¡è®¡**: åˆ©ç”¨ LLM è‡ªåŠ¨æ€»ç»“æ¯ä¸€ç‰ˆæ”¹åŠ¨äº†ä»€ä¹ˆ
* [ ] **FUSE è™šæ‹Ÿå±‚**: å®ç°çœŸæ­£çš„â€œé¢„è§ˆåç”Ÿæ•ˆâ€æ¨¡å¼

## ğŸ¤ è´¡çŒ®ä¸åè®®

æ ¸å¿ƒå¼•æ“é‡‡ç”¨ **Apache License 2.0** å¼€æºã€‚æ¬¢è¿ä»»ä½•å…³äºè·¨å¹³å°æ–‡ä»¶ç³»ç»Ÿå…¼å®¹æ€§çš„ PRï¼

## ğŸ“œ è®¸å¯è¯

MIT è®¸å¯è¯